<div class="header">
  <ul class="nav nav-pills pull-right">
    <li><a ng-href="#">{{ 'DATABASE_CONNECTIONS' | translate }}</a></li>
    <li class="active"><a ng-href="#/queries">{{ 'QUERIES' | translate }}</a></li>
    <li><a ng-href="#">{{ 'ABOUT' | translate }}</a></li>
    <li><a ng-href="#">{{ 'CONTACT' | translate }}</a></li>
  </ul>
  <h3 class="text-muted">ZenQuery</h3>
</div>

<div class="row">
  <div class="col-lg-12">
    <h4>{{ 'QUERIES' | translate }}</h4>
    <table ng-table="tableParams" class="table table-striped table-bordered table-hover">
      <thead>
        <tr>
          <th>{{ 'CONTENT' | translate }}</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tfoot>
        <tr>
          <td>&nbsp;</td>
          <td><strong>{{ 'TOTAL' | translate }}</strong></td>
          <td><strong>{{total}}</strong></td>
        </tr>
      </tfoot>
      <tbody>
        <tr ng-repeat="query in queries" ng-class="{ success : $index == selectedRow }">
          <td>{{query.content}}</td>
          <td>
            <button type="submit" class="btn btn-info" ng-click="selectRow($index); showDetails(query.id)">{{ 'DETAILS' | translate }}</button>
          </td>
          <td>
            <button type="submit" class="btn btn-danger" ng-click="delete(query.id)">{{ 'DELETE' | translate }}</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="row">
  <div class="col-lg-12">
    <h4>{{ 'DETAILS' | translate }}</h4>
    <form role="form">
  		<div class="form-group">
  			<label for="databaseConnection">{{ 'DATABASE_CONNECTION' | translate }}</label>
  			<select id="databaseConnection" style="width: 100%" ui-select2 ng-model="query.databaseConnectionId" data-placeholder="{{ 'SELECT' | translate }}" ng-required="true">
  				<option value=""></option>
  				<option ng-repeat="databaseConnection in databaseConnections" value="{{databaseConnection.id}}">{{databaseConnection.name}}</option>
  			</select>
  		</div>
  		<div class="form-group">
  			<label for="content">{{ 'CONTENT' | translate }}</label>
  			<textarea id="content" class="form-control" rows="3" ng-model="queryVersion.content"></textarea>
  		</div>
  		<button type="submit" class="btn btn-primary" ng-hide="query.id" ng-click="create()">{{ 'CREATE' | translate }}</button>
  		<button type="submit" class="btn btn-default" ng-show="query.id" ng-click="update()">{{ 'UPDATE' | translate }}</button>
  		<button type="submit" class="btn btn-success" ng-show="query.id" ng-click="new()">{{ 'NEW' | translate }}</button>
    </form>
  </div>
</div>

<br><br><hr>
<footer>
  <div id="main_footer">created by <a href="http://fullmontymedia.com" title="Full Monty Media">Full Monty Media</a>, {{currentYear}}.</div>
</footer>
